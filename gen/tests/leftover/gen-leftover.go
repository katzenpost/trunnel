// Code generated by trunnel. DO NOT EDIT.

package leftover

import (
	"encoding/binary"
	"errors"
)

type Leftover struct {
	Head [2]uint32
	Mid  []uint32
	Tail [2]uint32
}

func (l *Leftover) Parse(data []byte) ([]byte, error) {
	{
		for i := 0; i < 2; i++ {
			if len(data) < 4 {
				return nil, errors.New("data too short")
			}
			l.Head[i] = binary.BigEndian.Uint32(data)
			data = data[4:]
		}
	}
	{
		if len(data) < 8 {
			return nil, errors.New("data too short")
		}
		restore := data[len(data)-8:]
		data = data[:len(data)-8]
		l.Mid = make([]uint32, 0)
		for len(data) > 0 {
			var t uint32
			if len(data) < 4 {
				return nil, errors.New("data too short")
			}
			t = binary.BigEndian.Uint32(data)
			data = data[4:]
			l.Mid = append(l.Mid, t)
		}
		data = restore
	}
	{
		for i := 0; i < 2; i++ {
			if len(data) < 4 {
				return nil, errors.New("data too short")
			}
			l.Tail[i] = binary.BigEndian.Uint32(data)
			data = data[4:]
		}
	}
	return data, nil
}
