// Code generated by trunnel. DO NOT EDIT.

package nulterm

import (
	"bytes"
	"encoding/binary"
	"errors"
)

type NulTerm struct {
	X uint32
	S string
	Y uint8
}

func (n *NulTerm) Parse(data []byte) ([]byte, error) {
	cur := data
	{
		if len(cur) < 4 {
			return nil, errors.New("data too short")
		}
		n.X = binary.BigEndian.Uint32(cur)
		cur = cur[4:]
	}
	{
		i := bytes.IndexByte(cur, 0)
		if i < 0 {
			return nil, errors.New("could not parse nul-term string")
		}
		n.S, cur = string(cur[:i]), cur[i+1:]
	}
	{
		if len(cur) < 1 {
			return nil, errors.New("data too short")
		}
		n.Y = cur[0]
		cur = cur[1:]
	}
	return cur, nil
}
